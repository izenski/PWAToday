<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>PWA Today</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <link rel="stylesheet" href="css/style.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section>
                    <img src="img/PWALogo.png" 
                        style="background-color:#FFF"
                    />
                    <aside class="notes">
                        <ul>
                            <li>Progressive Web Apps</li>
                            <li>Why you should care</li>
                            <li>Introduction to PWA - too big for more</li>
                            <li>Places to go for more information</li>
                        </ul>                        
                    </aside>                              
                </section>
                <section>
                    <img src="img/computer.svg"
                        class="saneimage"
                    />
                    <aside class="notes">
                        <ul>
                            <li>Old days - terminal, printer, disk</li>
                            <li>personal computer</li>
                            <li>Added LAN OSes</li>
                            <li>Added the Internet</li>
                            <li>Mobile</li>
                        </ul> 
                    </aside>                    
                </section>
                <!-- <section>
                    <img src="img/suitcase.svg"
                        class="saneimage"

                    />
                </section> -->
                <section>
                        <img src="img/earth.svg" 
                            style="max-height:15em;"
                        />
                        <aside class="notes">
                            <ul>
                                <li>7.7B, 8.0 by 2021</li>
                                <li>5.6 billion 14+</li>
                            </ul> 
                        </aside>                            
                </section>                
                <section>
                    <img src="img/LukeYouTube.jpg" />
                    <div>http://bit.ly/LukeMobileYT</div>
                    <div>http://bit.ly/LukeMobilePDF</div>
                </section>
                <section>
                    <ul>
                        <li>How many Smart Phones world-wide?</li>
                        <!-- <li class="fragment">Per OS?</li> -->
                        <li class="fragment">How many PCs world-wide?</li>
                        <!-- <li class="fragment">What OS?</li> -->
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>7.7B, 8.0 by 2021</li>
                            <li>5.6 billion 14+</li>
                            <li>5 billion mobile, 4 billion smartphones</li>
                            <li>5 billion smart by 2023</li>
                            <li>75% Android, 25% iOS</li>
                            <li>1.3 billion computers, 1.2B windows 2018</li>
                        </ul> 
                    </aside>                       
                </section>
                <section>
                    <ul>
                        <li>Name an industry disrupted by mobile</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>music</li>
                            <li>advertising</li>
                            <li>computers</li>
                            <li>retail</li>
                            <li>governments</li>
                            <li>publishing</li>
                            <li>news and info dbs</li>
                        </ul> 
                    </aside>                       
                </section>
                <section><h3>Mobile or Web?</h3></section>                
                <section>
                    <ul>
                        <li>Mobile time per person/per day (US)?</li>
                        <li class="fragment">Time spent on mobile apps?</li>
                        <li class="fragment">Time spent on mobile web browsers?</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>Between 2.3 & 3.3 hours/day</li>
                            <li>lets say - 3 hours</li>
                            <li>169 minutes in mobile apps</li>
                        </ul> 
                    </aside>                        
                </section>
                <section>
                    <div style="font-size:10em">?</div>
                    <aside class="notes">
                        <ul>
                            <li>Does this seem representative?</li>
                            <li>Does this mirror your non-mobile use?</li>
                        </ul> 
                    </aside>                      
                </section>                
                <section>
                    <h3>87% time spent on mobile apps - Why?</h3>
                    <ul class="fragment">
                        <li>Reliable</li>
                        <li>Performant</li>
                        <li>Easy (Home Screen)</li>
                        <li>Engaging (push)</li>
                        <li>Features</li>
                        <li>Trust</li>
                        <!-- <li>Metrics</li> -->
                    </ul>
                </section>
                <section>
                    <blockquote>53% of users 
                        abandon sites that take longer than 3 seconds to load.
                    </blockquote>
                    <cite>https://www.thinkwithgoogle.com/intl/en-154/insights-inspiration/research-data/need-mobile-speed-how-mobile-latency-impacts-publisher-revenue/</cite>
                    <aside class="notes">
                        <ul>
                            <li>Study - like waiting in traffic more</li>
                            <li>Frequently don't take time to build mobile-friendly pages</li>
                        </ul> 
                    </aside>                        
                </section>
                <section>
                    <img src="img/OldPhoneProgramming.jpg" />
                    <aside class="notes">
                        <ul>
                            <li>Based on this - should we build mobile apps?</li>
                        </ul> 
                    </aside>                      
                </section>
                <section>
                    <img src="img/Warning.svg" class="saneimage"/>
                    <aside class="notes">
                        <ul>
                            <li>How do we get mobile apps?</li>
                        </ul> 
                    </aside>                       
                </section>
                <section>
                    <table><tbody>
                        <tr>
                            <td><img src="img/AppStore_new_logo.svg" /></td>
                            <td style="position:relative;">
                                <div class="fragment" style="position:absolute;top:3em;bottom:0;left:0;right:0">
                                    3,100,000
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><img src="img/Google_Play_symbol.svg"/></td>
                            <td style="position:relative;">
                                <div class="fragment" style="position:absolute;top:3em;bottom:0;left:0;right:0">
                                    2,900,000
                                </div>
                            </td>
                        </tr>
                    </tbody></table>
                    <cite>https://www.statista.com/statistics/266210/number-of-available-applications-in-the-google-play-store/</cite>
                    <cite>https://www.statista.com/statistics/268251/number-of-apps-in-the-itunes-app-store-since-2008/</cite>
                </section>
                <section>
                    <img src="img/simplewaves.jpg" />
                    <aside class="notes">
                        <ul>
                            <li>Feel like a drop in the ocean?</li>
                        </ul> 
                    </aside>                     
                </section>
                <section>
                    <img src="img/Funnel.jpg" />
                    <aside class="notes">
                        <ul>
                            <li>Spend time and money to have someone find your app</li>
                            <li>Additionally there is a funnel effect</li>
                        </ul> 
                    </aside>                     
                </section> 
                <section>
                    <ul>
                        <li>Apps abandoned after first use?<span class="fragment"> 25%</span></li>
                        <li class="fragment">Active Daily User loss after 3 days?<span class="fragment"> 77%</span></li>
                    </ul>
                </section>                               
                <section>
                    <ul>
                        <li>Average sessions/day? <span class="fragment">80</span></li>
                        <li class="fragment">Avg duration of session? <span class="fragment">50% &lt;= 30 seconds</span></li>
                        <li class="fragment">40% &lt; 15 seconds</span></li>
                    </ul>
                </section>
                <section>
                    <ul>
                    <li><h2>169 min on mobile apps</h2></li>
                    <li class="fragment"><h3> 83 min top 1 app</h3></li>
                    <li class="fragment"><h3> 162 min top 10 app</h3></li>
                    </ul>
                    <div>
                        <img src="img/MobileAppUse.jpg" 
                            class="centerimg fragment"
                        />
                    </div>
                </section>
                <section>
                    <h3>Unique Visitors</h3>
                    <img src="img/MobileDepthWebReach.jpg" />
                </section> 
                <section>
                    <section>
                            <h3>More visitors?</h3>
                            <ul class="fragment">
                                <li>Easy to access/try</li>
                                <li>Universal customer platform</li>
                                <li>Unrestrictive</li>
                                <li>Easier to link</li>
                                <li>Searchable</li>
                                <li>Better dev/tool story</li>
                                <li>Easier to iterate</li>
                            </ul>
                        </section>
                </section>
                <section>
                    <img src="img/DeviceUsage.jpg"
                        style="max-height:10em;"
                    />
                    <cite>comscore 2018</cite>
                </section>                        
                <section>
                    <img src="img/WhatToDo.svg"
                        class="saneimage"
                        style="background-color: #FFF"
                    />
                </section> 
                <section>
                    <img src="img/PWALogo.png" 
                        style="background-color:#FFF"
                    />
                    <aside class="notes">
                        <ul>
                            <li>One option - PWA</li>
                            <li>Built to try to address these issues</li>
                            <li>So what is a PWA?</li>
                        </ul> 
                    </aside>                        
                </section>  
                <section>
                    <h2>What are PWAs?</h2>
                    <blockquote>
                            A Progressive Web App (PWA) is a web app that uses modern web capabilities to deliver an app-like experience to users.
                    </blockquote>
                    <cite>https://ionicframework.com/docs/developer-resources/progressive-web-apps/</cite>
                    <aside class="notes">
                        <ul>
                            <li>Advantage of strengths of web platform</li>
                            <li>Address some of the weaknesses</li>
                        </ul> 
                    </aside>    
                </section> 
                <section>
                        <img src="img/caniuse-pwa.jpg" />
                    </section>                
                <section>
                    <img src="img/tools.svg"
                        class="saneimage"
                        style="background-color:#FFF"
                    />
                </section>

                <section>
                    <ol>
                        <li>App Manifest</li>                        
                        <li>Service Worker</li>
                        <li>Served over HTTPS</li>
                    </ol>
                </section>
                <section>
                    <img src="img/pwa-lighthouse.png" />
                    <cite>https://developers.google.com/web/tools/lighthouse</cite>
                </section>

                <section>
                    <i class="fas fa-cog fa-10x"></i>
                </section>  
                <section>
                    <blockquote>Service worker is a programmable network proxy, allowing you to control how network requests from your page are handled.</blockquote>
                    <cite>https://developers.google.com/web/fundamentals/primers/service-workers/</cite>
                </section>  
                <section>
                    <img src="img/WebPage.png"/>
                </section>
                <section>
                    <img src="img/ServiceWorker.png"/>
                    <aside class="notes">
                        <ul>
                            <li>Your very own ManInTheMiddle attack</li>
                            <li>Requires HTTPS</li>
                        </ul>                        
                    </aside>                        
                </section> 
                <section>
                    <img src="img/ServiceWorkerWithCache.png"/>
                </section>     
                <section>
<pre><code class="large">
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js');
    }

</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Scope - default current folder</li>
                            <li>Location of Service Worker</li>
                        </ul> 
                    </aside>
                </section> 
                <section>
                    <img src="img/ServiceWorkerLifecycle.jpg" />
                </section>
                <section>
                    <pre><code class="large">
            // A Tale of Three JavaScript files
            const x = "Hello Example";
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>app.js & sw0.js</li>
                            <li>app.js browser JS thread</li>
                            <li>service worker gets a separate per device/dom/port/start</li>
                            <li>works even after browser is shut off</li>
                        </ul>                        
                    </aside>                        
                </section>

                <section>
                    <img src="img/caniuse-serviceworker.jpg"/>
                    <cite>https://caniuse.com/#feat=serviceworkers</cite>
                </section> 
                <section>
                    <img src="img/caniuse-promises.jpg" />
                    <div>https://www.caniuse.com/#feat=promises</div>
                </section>
                <section>
                    <img src="img/caniuse-fetch.jpg" />
                    <div>https://www.caniuse.com/#feat=fetch</div>
                </section>                
                <section>
                        <pre><code>
            fetch(url, {
                method: "POST",
                headers: {
                    "Content-Type":"application/json",
                    "Accept":"Application/json"
                },
                body: JSON.stringify({
                    username: userName,
                    message: userMsg
                })
            })
                        </code></pre>                  
                </section>

                <section>
                    <img src="img/IsServiceWorkerReady.jpg" />
                    <cite><a target="_new"
                        href="https://jakearchibald.github.io/isserviceworkerready/">
                        https://jakearchibald.github.io/isserviceworkerready/</a></cite>
                        <aside class="notes">
                                <ul>
                                    <li>is serviceworker ready.</li>
                                    <li>great list of related APIs and their availability</li>
                                </ul>                        
                            </aside>                           
                </section>                  
                <section>
                    <img src="img/pwabuilder.serviceworker.jpg" />
                    <div>https://www.pwabuilder.com/serviceworker</div>
                    <aside class="notes">
                        <ul>
                            <li>if that seems like too much code...</li>
                            <li>there are template generators like this...</li>
                        </ul>                        
                    </aside>                          
                </section>
                <section>
                    <img src="img/MozillaServiceWorkers.jpg" class="saneimage"/>
                    <div>https://serviceworke.rs</div>
                    <aside class="notes">
                        <ul>
                            <li>and this..</li>
                        </ul>                        
                    </aside>                      
                </section> 
                
                <section>
                <img src="img/GoogleWorkbox.jpg" />
                <div>https://developers.google.com/web/tools/workbox</div>
                <aside class="notes">
                    <ul>
                        <li>Workbox is a set of libraries</li>
                        <li>and Node modules help simplify patterns</li>
                    </ul>                        
                </aside>                      
                </section> 

                <section>
                    <i class="far fa-book fa-10x"></i>
                </section>
                
                <section>
                    <h2>Web App Manifest</h2>
                    <blockquote>The manifest informs details for websites installed on the homescreen of a device, providing users with quicker access and a richer experience</blockquote>
                    <cite>https://developer.mozilla.org/en-US/docs/Web/Manifest</cite>
                    <aside class="notes">
                        <ul>
                            <li>The kind of metadata needed to install an app</li>
                        </ul> 
                    </aside>                      
                </section> 

                <section>
                        <pre><code class="large">
    &lt;link rel="manifest" href="/manifest.json"&gt;
                            </code></pre>   
                    <aside class="notes">
                        <ul>
                            <li>name must be manifest.json</li>
                            <li>Should be added to every page</li>
                            <li>Ensures manifest is loaded</li>
                        </ul>                        
                    </aside>                                           
                </section>     
                <section>                        
                <pre><code class="large">
    {
        "name": "RotationConf the Total Original...",
        "short_name": "RotationConf",
        "start_url": "/index.html",
        "scope": ".",
        "display": "standalone",
        "orientation": "portrait-primary",
                    </code></pre> 
                    <aside class="notes">
                        <ul>
                            <li>Name - splash screen</li>
                            <li>Short name - below icon</li>
                            <li>Scope - what pages are included?</li>
                            <li>..."." means "all"</li>
                            <li>Display: standalone,fullscreen,minimal-ui,browser</li>
                            <li>bg color, theme color, description </li>
                            <li>dir:ltr - left to right</li>
                        </ul>                        
                    </aside>                                       
                </section> 

                <section>
                    <pre><code class="large">
            const x = "PWABuilder Example";
                    </code></pre> 
                    <aside class="notes">
                        <ul>
                            <li>https://www.pwabuilder.com/</li>
                            <li>Should be added to every page</li>
                            <li>Ensures manifest is loaded</li>
                        </ul>                        
                    </aside>                                      
                </section>

                <section>
                  <img src="img/pwabuilder.imagegenerator.jpg" />
                  <div>https://www.pwabuilder.com/generate</div>  
                </section>

                <section>
                    <img src="img/caniuse-webappmanifest.jpg"/>
                    <div>https://www.caniuse.com/#feat=web-app-manifest</div>
                </section>                  
                
                <section>
                    <i class="far fa-cloud-download-alt fa-10x"></i>
                </section>                 

                <section>
                    <img src="img/IndexedDB.png"/>
                </section>
                <section>
                    <img src="img/caniuse-indexeddb.jpg" />
                    <div>https://www.caniuse.com/#feat=indexeddb</div>
                </section>
                <section>
                    <img src="img/idb.jpg"/>
                    <cite>https://github.com/jakearchibald/idb</cite>
                </section>
                <section>
                <pre><code>
    var dbPromise = idb.open('my-schedule', 1, function (db) {
        if (!db.objectStoreNames.contains('schedule')) {
            db.createObjectStore('course', {keyPath: 'classId'});
        }
    });    
                    </code></pre>                
                </section> 
                <section>
                    <pre><code>
    return dbPromise
    .then(function(db) {
        var tx = db.transaction('course', 'readonly');
        var courses = tx.objectStore('course',);
        courses.put(courses[classId]);
        return tx.complete;
    });
                    </code></pre>                
                </section> 
            
                <section>
                    <h2>Background Sync</h2>
                </section>
                <section>
                    <pre><code>
if ('serviceWorker' in navigator &amp;&amp; 'SyncManager' in window) {
    navigator.serviceWorker.ready
    .then(function(sw) { 
        return sw.sync.register('schedule-update');
    } 
}                     
                    </code></pre>
                </section>
                <section>
                        <pre><code>
    self.addEventListener('sync', function(event) {
        console.log('Service Worker Background syncing', event);
        if (event.tag === 'schedule-update') {
            event.waitUntil(
                ...
            </code></pre>   
                </section>
                <section>
                    <img src="img/caniuse-backgroundsyncapi.jpg" />
                    <div>https://www.caniuse.com/#feat=background-sync</div>
                </section> 
                
                <section>
                    <pre><code>                
        let myPeriodicSync = ServiceWorker.periodicSync(?) 
            </code></pre>   
                </section>                              

                <section>
                    <h2>Notifications API</h2>
                </section>

                <section>
                    <pre><code>
        if ('Notification' in window){
            Notification.requestPermission(result => {...})
        }
        ...
        new Notification('Buy stuff now ',
        {
          body: 'something good is on sale',
          tag: 'sale-offer'
        })        

                    </code></pre>
                </section>

                <section>
                    <img src="img/caniuse-pushapi.jpg" />
                    <div>https://www.caniuse.com/#feat=push-api</div>
                </section>
                <section>
                    <img src="img/caniuse-webnotifications.jpg" />
                    <div>https://www.caniuse.com/#feat=notifications</div>
                </section>

                <section>
                    <ul>
                        <li>Camera</li>
                        <li>Geolocation</li>
                        <li>Accelerometer</li>
                        <li>Ambient Light Sensor</li>
                        <li>Device Orientation</li>
                        <li>Gyroscope</li>
                        <li>Magnetometer</li>
                        <li>Web Bluetooth</li>
                        <li>WebRTC Peer-to-peer connections</li>
                        <li>Canvas/WebGL</li>
                        <li>Payment Request API</li>
                    </ul>>
                </section>

                <section>
                    <i class="fa fa-shopping-cart fa-10x"></i>
                    <cite>https://medium.freecodecamp.org/i-built-a-pwa-and-published-it-in-3-app-stores-heres-what-i-learned-7cb3f56daf9b</cite>
                </section>  
                
                <section>
                    <ul>
                        <li>Reliable</li>
                        <li>Performant</li>
                        <li>Easy (Home Screen)</li>
                        <li>Engaging (push)</li>
                        <li>Features</li>
                        <li>Trust</li>
                        <li>Metrics</li>
                    </ul>
                </section>                

                <section>
                    <ul>
                        <li>https://developers.google.com/web/tools/chrome-devtools/remote-debugging/</li>
                        <li>https://developers.google.com/web/progressive-web-apps/checklist</li>
                        <div>https://developers.google.com/web/tools/lighthouse/</div>
                        <div>https://developers.google.com/web/progressive-web-apps/checklist</div>                        
                        <div>https://medium.freecodecamp.org/i-built-a-pwa-and-published-it-in-3-app-stores-heres-what-i-learned-7cb3f56daf9b</div>
                        <div>https://www.pwabuilder.com/</div>
                        <div>https://sonarwhal.com/</div>
                    </ul>
                </section>

                <section>
                    <img src="img/PWALogo.png" 
                        style="background-color:#FFF"
                    />
                </section>                

                <section>
                    <h2>Start with</h2>
                    <ul>
                        <li>Existing app</li>
                        <li>Greenfield app</li>
                        <li>Lite version of app</li>
                        <li>PWA Feature focus</li>
                    </ul>
                </section>
                <section>
                    <div>
                        What about window.navigator.share
                    </div>
                </section>
                <section>
                    <h2>Firefox</h2>
                    <div>about:debugging#workers</div>
                </section>
				<section>
                    <h1>Links</h1>
                    <ul>
                        <li>https://youtu.be/6fb-t9ffDvo</li>
                        <li>https://www.thinkwithgoogle.com/intl/en-154/insights-inspiration/research-data/need-mobile-speed-how-mobile-latency-impacts-publisher-revenue/</li>
                    </ul>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script src="js/fontawesome-all.js"></script>        

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ],
                history: true,
                mouseWheel: true,
                transition: 'none'
			});
		</script>
	</body>
</html>
